# NoPressure Design System Rules

**Extracted from:** Figma file `d9jhBj7g7XnKK5L14M9RAL`
**SwiftUI Implementation:** `Components/DesignSystem.swift`
**Last Updated:** February 2025

---

## Table of Contents

1. [Token Definitions](#token-definitions)
2. [Typography](#typography)
3. [Component Patterns](#component-patterns)
4. [Asset Management](#asset-management)
5. [View Modifiers](#view-modifiers)
6. [Figma-to-SwiftUI Mapping](#figma-to-swiftui-mapping)
7. [Naming Conventions](#naming-conventions)
8. [Usage Guidelines](#usage-guidelines)

---

## Token Definitions

### Color Palette

All colors are defined in the `NP.Colors` enum with exact Figma hex values. Always use the token names, not hardcoded hex values.

#### Primary & Accent Colors

| Token | Hex Value | Usage | Figma Name |
|-------|-----------|-------|-----------|
| `NP.Colors.primary` | `#5533FF` | CTA buttons, active tab, links, primary interactions | Primary Purple |
| `NP.Colors.accent` | `#FF7A4D` | Highlights, tags, illustrations, progress indicators | Accent Orange |
| `NP.Colors.background` | `#EBE8FC` | App background, full-screen fills | App Background Lavender |

#### Secondary & Neutral Colors

| Token | Hex Value | Usage | Figma Name |
|-------|-----------|-------|-----------|
| `NP.Colors.lightPurple` | `#D4CCFF` | Secondary backgrounds, pill badges, hover states | Light Purple Tint |
| `NP.Colors.lightOrange` | `#FFD9CC` | Secondary accents, subtle highlights | Light Orange Tint |
| `NP.Colors.surface` | `#FFFFFF` | Card backgrounds, surfaces, modal backgrounds | Surface White |

#### Text & Typography Colors

| Token | Hex Value | Usage | Context |
|-------|-----------|-------|---------|
| `NP.Colors.textPrimary` | `#333333` | Body text, standard content | Default text |
| `NP.Colors.textSecondary` | `#999999` | Helper text, secondary information | Muted/diminished |
| `NP.Colors.textBlack` | `#000000` | Headings, emphasized text, high contrast | Maximum contrast |
| `NP.Colors.tabBarBackground` | `#FFFFFF` | Tab bar fill | Navigation context |

#### Color Usage Examples

```swift
// Primary button
Button("Continue") {
    // action
}
.foregroundColor(.white)
.background(NP.Colors.primary)

// Tag badge
Text("DAILY GOAL")
    .foregroundColor(.white)
    .background(NP.Colors.accent)
    .clipShape(Capsule())

// Secondary surface
VStack { /* content */ }
    .background(NP.Colors.lightPurple.opacity(0.5))
```

---

## Typography

### Font Family Setup

The app uses **variable fonts** for maximum flexibility:

- **Manrope** (Primary UI font): Variable font with weight axis 200–800
- **IBM Plex Mono** (Monospace): Used in code/data displays
- **SF Pro** (System fallback): Used implicitly for SF Symbols

All fonts are bundled in `/Fonts/` directory:
- `Manrope-VariableFont_wght.ttf`
- `IBMPlexMono-Regular.ttf`
- `IBMPlexMono-Medium.ttf`
- `IBMPlexMono-SemiBold.ttf`

### Typography Scale

All typography is defined in `NP.Typography` enum. Use these predefined styles, never create custom font sizes.

#### Display & Titles

| Token | Size | Weight | Use Case |
|-------|------|--------|----------|
| `largeTitle` | 34px | Bold | Page titles, hero text |
| `title1` | 28px | Bold | Section headers, card faces |
| `title2` | 22px | Bold | Subsection headers |
| `title3` | 20px | Semibold | Card subtitles, modal headers |
| `logoTitle` | 42px | Bold | Welcome/splash screen logo |

#### Body Text

| Token | Size | Weight | Use Case |
|-------|------|--------|----------|
| `body` | 17px | Regular | Default paragraph text |
| `bodySemibold` | 17px | Semibold | Emphasized body, button labels |
| `headline` | 17px | Semibold | Navigation items, emphasis |

#### Labels & Small Text

| Token | Size | Weight | Use Case |
|-------|------|--------|----------|
| `callout` | 16px | Regular | Secondary content, descriptions |
| `calloutSemibold` | 16px | Semibold | Emphasized callout |
| `subheadline` | 15px | Regular | Helper text, secondary labels |
| `subheadlineSemibold` | 15px | Semibold | Emphasized secondary text |
| `footnote` | 13px | Regular | Tertiary text, fine print |
| `footnoteSemibold` | 13px | Semibold | Emphasized tertiary text |
| `caption1` | 12px | Regular | Tags, badges, small info |
| `caption1Medium` | 12px | Medium | Tags (medium weight variant) |
| `caption1Semibold` | 12px | Semibold | Small emphasized text |
| `caption2` | 11px | Regular | Timestamps, disclaimers |
| `caption2Semibold` | 11px | Semibold | Small caps, overline labels |
| `overline` | 11px | Semibold | All-caps labels, section dividers |

#### Specialized Styles

| Token | Size | Weight | Use Case |
|-------|------|--------|----------|
| `cardFace` | 28px | Semibold | Study flip card text |
| `questionTitle` | 24px | Bold | Quiz/Write mode question titles |
| `progressLarge` | 32px | Extra Bold | Progress ring percentages |
| `statValue` | 32px | Bold | Profile statistics (large numbers) |
| `monoBody` | 15px | Regular | Monospace paragraph (IBM Plex) |
| `monoCaption` | 12px | Regular | Monospace small text |
| `monoSmall` | 11px | Regular | Monospace smallest text |

#### Icon Sizing

Do NOT use these for text typography. These are for SF Symbol sizing only:

```swift
enum NP.Typography.IconSize {
    static let xs = Font.system(size: 12, weight: .bold)          // Tiny icon indicators
    static let sm = Font.system(size: 16, weight: .semibold)      // Small tab icons
    static let md = Font.system(size: 20, weight: .semibold)      // Medium nav icons
    static let lg = Font.system(size: 24)                          // Large action icons
    static let xl = Font.system(size: 28)                          // Extra large
    static let xxl = Font.system(size: 32)                         // Heading-sized icons
    static let hero = Font.system(size: 48)                        // Hero section icons
    static let splash = Font.system(size: 72)                      // Splash screen icons
    static let illustration = Font.system(size: 80)                // Full illustrations
}
```

### Typography Usage Examples

```swift
// Title with proper style
Text("My Decks")
    .font(NP.Typography.title2)
    .foregroundColor(NP.Colors.textBlack)

// Body with semibold emphasis
Text("Study 45 minutes daily")
    .font(NP.Typography.bodySemibold)
    .foregroundColor(NP.Colors.textPrimary)

// Tag with caption2
Text("DAILY GOAL")
    .font(NP.Typography.caption2Semibold)
    .foregroundColor(.white)

// Using variable font weights
Text("Dynamic Content")
    .font(Font.custom("Manrope", size: 18).weight(.semibold))
```

---

## Spacing

Spacing is defined in `NP.Spacing` enum using a modular scale. Always use these constants.

```swift
enum NP.Spacing {
    static let xs: CGFloat = 4      // Tight spacing (within groups)
    static let sm: CGFloat = 8      // Small padding
    static let md: CGFloat = 12     // Medium padding
    static let lg: CGFloat = 16     // Standard padding
    static let xl: CGFloat = 20     // Generous padding
    static let xxl: CGFloat = 24    // Large padding (section spacing)
    static let xxxl: CGFloat = 32   // Extra large padding (card internals)
}
```

### Spacing Usage Guidelines

| Context | Token | Example |
|---------|-------|---------|
| Inline text spacing | `xs` (4pt) | Letter spacing, tight badges |
| Component padding | `sm`/`md` (8–12pt) | Button internal padding |
| Standard padding | `lg` (16pt) | Card internal margins |
| Section spacing | `xxl` (24pt) | Vertical space between sections |
| Large card padding | `xxxl` (32pt) | Hero card internals |
| Horizontal screen margin | `xxl` (24pt) | `.padding(.horizontal, NP.Spacing.xxl)` |

### Spacing Example Patterns

```swift
// Card with standard padding
VStack(spacing: NP.Spacing.md) {
    Text("Title")
    Text("Subtitle")
}
.padding(NP.Spacing.lg)              // 16pt on all sides

// Section with large vertical spacing
VStack(spacing: NP.Spacing.xxl) {    // 24pt between sections
    Section1()
    Section2()
}

// Stacked elements with tight spacing
HStack(spacing: NP.Spacing.sm) {      // 8pt between items
    Icon()
    Label()
}
```

---

## Border Radius

All corner radius values are defined in `NP.Radius` enum. Use consistent radius per component type.

```swift
enum NP.Radius {
    static let sm: CGFloat = 12      // Small cards, buttons, close components
    static let md: CGFloat = 16      // Medium cards, default component radius
    static let lg: CGFloat = 20      // Large cards, hero components
    static let xl: CGFloat = 24      // Extra large cards, modal sheets
    static let pill: CGFloat = 100   // Pill buttons, fully rounded capsules
}
```

### Radius Usage

| Component Type | Token | Usage |
|---|---|---|
| Small buttons | `sm` (12pt) | Icon buttons, small CTAs |
| Standard buttons | `md` (16pt) | Primary/secondary buttons |
| Small cards | `md` (16pt) | Compact cards, lists |
| Medium cards | `lg` (20pt) | Standard card components |
| Hero cards | `lg` (20pt) | Featured sections |
| Bottom sheets | `xl` (24pt) | Modal presentations |
| Pill badges | `pill` (100pt) | Tag pills, capsule shapes |

### Radius Implementation

```swift
// Small button
.clipShape(RoundedRectangle(cornerRadius: NP.Radius.sm, style: .continuous))

// Standard card
.background(NP.Colors.surface)
.clipShape(RoundedRectangle(cornerRadius: NP.Radius.lg, style: .continuous))

// Tag pill
.clipShape(Capsule())  // Equivalent to radius: .pill
```

Always use `.continuous` style for smooth interpolation.

---

## Shadow

Shadows are defined in `NP.Shadow` enum. The "Card Shadow" style from Figma is standardized.

```swift
enum NP.Shadow {
    static let cardColor = Color.black.opacity(0.08)    // Shadow color (8% black)
    static let cardRadius: CGFloat = 16                 // Shadow blur radius
    static let cardX: CGFloat = 0                       // No horizontal offset
    static let cardY: CGFloat = 4                       // 4pt downward offset
}
```

### Shadow Usage

Apply shadow to all surface components (cards, buttons, etc.):

```swift
.shadow(
    color: NP.Shadow.cardColor,
    radius: NP.Shadow.cardRadius,
    x: NP.Shadow.cardX,
    y: NP.Shadow.cardY
)

// Or use the NPCard modifier (recommended)
.npCard(radius: NP.Radius.lg)
```

---

## Component Patterns

### View Modifiers (Reusable Styles)

All component modifiers are defined in `DesignSystem.swift` and should be used instead of repeating styling code.

#### NPCard Modifier

White card with standardized shadow and corner radius.

```swift
struct NPCard: ViewModifier {
    var radius: CGFloat = NP.Radius.lg
    // Applies: white background + shadow + corner radius
}

// Usage:
VStack { /* content */ }
    .npCard()                              // Default radius (20pt)
    .npCard(radius: NP.Radius.md)         // Custom radius (16pt)
```

**When to use:**
- All card surfaces
- Content containers
- Floating elements

#### NPPrimaryButton Modifier

Purple filled button for primary CTAs.

```swift
struct NPPrimaryButton: ViewModifier {
    // Applies: NP.Colors.primary background, 56pt height, bodySemibold font
}

// Usage:
Button("Continue Learning") { /* action */ }
    .npPrimaryButton()
```

**Specifications:**
- Font: `bodySemibold` (17px, semibold)
- Color: `NP.Colors.primary` (#5533FF)
- Height: 56pt
- Width: Full container width
- Radius: `NP.Radius.md` (16pt)

#### NPSecondaryButton Modifier

Light purple button for secondary actions.

```swift
struct NPSecondaryButton: ViewModifier {
    // Applies: light purple background (50% opacity), purple text, 56pt height
}

// Usage:
Button("Skip") { /* action */ }
    .npSecondaryButton()
```

**Specifications:**
- Font: `bodySemibold` (17px, semibold)
- Color: `NP.Colors.lightPurple.opacity(0.5)` background
- Text Color: `NP.Colors.primary`
- Height: 56pt
- Width: Full container width
- Radius: `NP.Radius.md` (16pt)

### Reusable Component Views

#### TagPill

Small badge/label with flexible colors (defined in `HomeView.swift`).

```swift
struct TagPill: View {
    let text: String
    let color: Color
    var textColor: Color = .white

    var body: some View {
        Text(text)
            .font(NP.Typography.caption2Semibold)
            .foregroundColor(textColor)
            .padding(.horizontal, 10)
            .padding(.vertical, 4)
            .background(color)
            .clipShape(Capsule())
    }
}

// Usage:
TagPill(text: "DAILY GOAL", color: NP.Colors.accent, textColor: .white)
TagPill(text: "219 LEFT", color: NP.Colors.lightPurple, textColor: NP.Colors.primary)
```

**Specifications:**
- Font: `caption2Semibold` (11px)
- Shape: Capsule (fully rounded)
- Default text color: white
- Padding: 10pt horizontal, 4pt vertical

#### DeckCardView

Horizontal scrolling deck card in home feed.

```swift
struct DeckCardView: View {
    let deck: Deck

    var body: some View {
        VStack(alignment: .leading, spacing: NP.Spacing.sm) {
            // Card count + status icon
            // Deck name
        }
        .padding(NP.Spacing.lg)
        .frame(width: 160, height: 140)
        .npCard(radius: NP.Radius.md)
    }
}
```

**Specifications:**
- Fixed size: 160pt width × 140pt height
- Interior spacing: `md` (12pt)
- Padding: `lg` (16pt)
- Shadow: Standard card shadow

#### FlipCard & CardSide

Study flashcard with 3D flip animation.

```swift
struct FlipCard: View {
    let front: String
    let back: String
    @Binding var isFlipped: Bool

    // 3D rotation effect on tap
}

struct CardSide: View {
    let text: String
    let isBack: Bool

    var body: some View {
        VStack { /* centered text */ }
            .frame(height: 400)
            .npCard(radius: NP.Radius.xl)
    }
}
```

**Specifications:**
- Height: 400pt
- Font: `cardFace` (28px, semibold)
- Animation: Spring response 0.5, damping 0.7
- Radius: `xl` (24pt)

#### RatingButton

Study session rating button (Again, Hard, Good, Easy).

```swift
struct RatingButton: View {
    let title: String
    let color: String        // Hex color as String
    let action: () -> Void
}

// Usage:
RatingButton(title: "Good", color: "#5533FF") { /* handle rating */ }
RatingButton(title: "Easy", color: "#30D158") { /* handle rating */ }
```

**Specifications:**
- Font: `subheadlineSemibold` (15px)
- Height: Vertical padding of `lg` (16pt)
- Color: Per-button (dynamic via hex string)
- Radius: `sm` (12pt)

#### OrangeBlob

Animated organic blob shape for welcome/onboarding screens.

```swift
struct OrangeBlob: Shape {
    var phase: CGFloat = 0

    func path(in rect: CGRect) -> Path {
        // Generates organic, wavy blob outline with 8 control points
        // Animates via phase parameter for continuous wave effect
    }
}

// Usage:
OrangeBlob(phase: blobPhase)
    .fill(
        LinearGradient(
            colors: [NP.Colors.accent.opacity(0.9), NP.Colors.accent],
            startPoint: .topLeading,
            endPoint: .bottomTrailing
        )
    )
    .frame(width: 340, height: 420)
    .shadow(color: NP.Colors.accent.opacity(0.3), radius: 40, x: 0, y: 20)
```

**Specifications:**
- Colors: Gradient from `accent.opacity(0.9)` to `accent`
- Shadow: Accent color at 30% opacity, 40pt blur
- Animation: EaseInOut 6 seconds, repeating

#### MeshBackground

Animated mesh gradient background for full-screen layouts.

```swift
struct MeshBackground: View {
    var body: some View {
        // Animated mesh pattern (implementation in Components/MeshBackground.swift)
    }
}

// Usage:
ZStack {
    MeshBackground()
    // Content on top
}
.ignoresSafeArea()
```

Used on main app screens for visual cohesion.

#### NPBackground

Simple app background color fill.

```swift
struct NPBackground: View {
    var body: some View {
        NP.Colors.background
            .ignoresSafeArea()
    }
}

// Usage:
ZStack {
    NPBackground()
    // Content
}
```

---

## Asset Management

### Icon System

The app uses a **hybrid icon system**:

#### Solar Icons (Custom SVG Assets)

All custom icons are from the **Solar** icon library and stored as image assets in `Assets.xcassets/`. Icons are prefixed with `solar-` and use renderingMode(.template) for color tinting.

**Available Solar Icons:**

| Asset Name | Usage | Category |
|---|---|---|
| `solar-home-smile-bold` | Home tab active | Navigation |
| `solar-home-smile-linear` | Home tab inactive | Navigation |
| `solar-compass-bold` | Explore tab active | Navigation |
| `solar-compass-linear` | Explore tab inactive | Navigation |
| `solar-user-bold` | Profile tab active | Navigation |
| `solar-user-linear` | Profile tab inactive | Navigation |
| `solar-deck` | Deck listings, references | Content |
| `solar-check-circle-bold` | Completion checkmark | Status |
| `solar-check-circle-linear` | Unchecked state | Status |
| `solar-flag-2-linear` | Favorite/flag action | Actions |
| `solar-star-linear` | Rating indicator | Content |
| `solar-add` | Add action (button) | Actions |
| `solar-add-circle-linear` | Add circle variant | Actions |
| `solar-target-linear` | Goal/target indicator | Content |
| `solar-earth-linear` | Global/explore context | Content |

**Solar Icon Usage:**

```swift
Image("solar-deck")
    .renderingMode(.template)           // Enable color tinting
    .resizable()                        // Make scalable
    .scaledToFit()
    .frame(width: 24, height: 24)      // Explicit size
    .foregroundColor(NP.Colors.primary) // Apply color

// Alternative: Direct without resizable (if icon size is fixed)
Image("solar-check-circle-bold")
    .renderingMode(.template)
    .foregroundColor(NP.Colors.accent)
```

**Guidelines:**
- Always use `.renderingMode(.template)` to enable tinting
- Set explicit `.frame(width:, height:)` dimensions
- Apply color via `.foregroundColor()`
- Use `.bold` variant for filled/emphasized icons
- Use `.linear` variant for outlined/de-emphasized icons

#### SF Symbols

System icons for standard UI patterns use **SF Symbols** from the system library.

**Common SF Symbol Usage:**

| Symbol | Usage |
|---|---|
| `xmark` | Close/dismiss buttons |
| `chevron.right` | Navigation indicators |
| `star.fill` | Rating/favorite |
| `plus` | Add action |
| `ellipsis` | More options menu |

**SF Symbol Implementation:**

```swift
Image(systemName: "xmark")
    .font(NP.Typography.IconSize.md)     // Use icon size, not text size
    .foregroundColor(NP.Colors.textPrimary)

Button {
    dismiss()
} label: {
    Image(systemName: "xmark")
        .foregroundColor(NP.Colors.textPrimary)
        .padding(12)
        .background(NP.Colors.surface)
        .clipShape(RoundedRectangle(cornerRadius: NP.Radius.sm))
}
```

### Image Assets

Illustration and image assets are stored in `Assets.xcassets/` and are not tinted (use as-is).

| Asset Name | Usage | Dimensions |
|---|---|---|
| `hero-books` | Home hero card background | Variable |
| `hero-hand` | Onboarding/welcome illustration | Variable |
| `illust-map` | Explore section illustration | Variable |
| `illust-notepad` | Create section illustration | Variable |

**Image Asset Usage:**

```swift
Image("hero-books")
    .resizable()
    .scaledToFill()
    .frame(height: 200)
    .clipped()
```

Do NOT apply `.renderingMode()` to illustration assets.

### Color Verification in Assets

All Figma color tokens match the hex values in `Color+Hex.swift`. The color palette is NOT defined in `Assets.xcassets` color sets; it is programmatically defined in `NP.Colors` enum.

---

## Figma-to-SwiftUI Mapping

### Figma Design Tokens → SwiftUI Code

When converting Figma designs to SwiftUI, follow these direct mappings:

#### Colors

| Figma Style | SwiftUI Code |
|---|---|
| Color: Primary Purple | `NP.Colors.primary` |
| Color: Accent Orange | `NP.Colors.accent` |
| Color: App Background | `NP.Colors.background` |
| Color: Light Purple | `NP.Colors.lightPurple` |
| Color: Light Orange | `NP.Colors.lightOrange` |
| Color: Surface White | `NP.Colors.surface` |
| Color: Text Primary | `NP.Colors.textPrimary` |
| Color: Text Secondary | `NP.Colors.textSecondary` |
| Color: Text Black | `NP.Colors.textBlack` |

#### Typography Styles

| Figma Style | SwiftUI Code | Notes |
|---|---|---|
| Large Title / 34px Bold | `NP.Typography.largeTitle` | Page headings |
| Title 1 / 28px Bold | `NP.Typography.title1` | Section headers |
| Title 2 / 22px Bold | `NP.Typography.title2` | Subsection headers |
| Title 3 / 20px SemiBold | `NP.Typography.title3` | Card titles |
| Body / 17px Regular | `NP.Typography.body` | Paragraph text |
| Body Bold / 17px SemiBold | `NP.Typography.bodySemibold` | Button labels |
| Callout / 16px Regular | `NP.Typography.callout` | Helper text |
| Callout SemiBold / 16px SemiBold | `NP.Typography.calloutSemibold` | Emphasized callout |
| Subheadline / 15px Regular | `NP.Typography.subheadline` | Secondary text |
| Subheadline SemiBold / 15px SemiBold | `NP.Typography.subheadlineSemibold` | Emphasized secondary |
| Caption 1 / 12px Regular | `NP.Typography.caption1` | Small text |
| Caption 2 / 11px SemiBold | `NP.Typography.caption2Semibold` | Overline/labels |
| Overline / 11px SemiBold | `NP.Typography.overline` | All-caps labels |

#### Component Styles

| Figma Component | SwiftUI Pattern | Code |
|---|---|---|
| Card / Medium Shadow | `NPCard` modifier | `.npCard()` |
| Primary Button | `NPPrimaryButton` modifier | `.npPrimaryButton()` |
| Secondary Button | `NPSecondaryButton` modifier | `.npSecondaryButton()` |
| Tag Pill | `TagPill` component | `TagPill(text: "LABEL", color: color)` |
| Card Shadow | Shadow enum | `.shadow(color: NP.Shadow.cardColor, ...)` |

### Layout Implementation Strategy

When converting Figma layout to SwiftUI:

1. **Identify the main container**: Use `ZStack` for overlays (backgrounds + content), `VStack` for vertical layouts, `HStack` for horizontal
2. **Apply background first**: Always set `.background()` before `.clipShape()` for proper rendering
3. **Add shadow after clip**: Apply shadow modifier after corner radius for correct appearance
4. **Use spacing enum**: All padding/spacing uses `NP.Spacing` constants
5. **Apply modifiers in order**:
   ```swift
   VStack { /* content */ }
       .background(NP.Colors.surface)
       .clipShape(RoundedRectangle(cornerRadius: NP.Radius.lg, style: .continuous))
       .shadow(color: NP.Shadow.cardColor, radius: NP.Shadow.cardRadius, x: 0, y: 4)
       .padding(.horizontal, NP.Spacing.xxl)
   ```

### Example Conversion

**Figma:** Purple button with "Continue" label
```
Component: Primary Button
  - Background: Primary Purple (#5533FF)
  - Text: Body Bold, white
  - Height: 56px
  - Radius: Medium (16px)
```

**SwiftUI Code:**
```swift
Button("Continue") {
    // action
}
.npPrimaryButton()
```

---

## Naming Conventions

### File Organization

```
NoPressureApp/
├── Components/
│   ├── DesignSystem.swift          // All design tokens & modifiers
│   ├── LiquidGlass.swift           // Deprecated glass effects
│   └── MeshBackground.swift        // Animated background
├── Views/
│   ├── MainTabView.swift           // Root navigation
│   ├── Home/
│   │   └── HomeView.swift          // Home + TagPill + DeckCardView
│   ├── Study/
│   │   ├── StudySessionView.swift  // FlipCard + CardSide + RatingButton
│   │   ├── StudyModeSelector.swift
│   │   ├── QuizModeView.swift
│   │   └── WriteModeView.swift
│   ├── Library/
│   ├── Explore/
│   ├── Profile/
│   ├── Create/
│   └── Onboarding/
│       ├── WelcomeView.swift       // OrangeBlob animation
│       ├── HowItWorksView.swift
│       └── ...
├── Extensions/
│   └── Color+Hex.swift             // Hex color parsing
├── Models/
├── Assets.xcassets/                // Images & solar icons
└── Fonts/                          // Custom fonts
```

### Enum Naming

All design system values are grouped in a single `NP` enum (acronym for NoPressure):

- `NP.Colors.*` — Color tokens
- `NP.Typography.*` — Font styles
- `NP.Spacing.*` — Spacing values
- `NP.Radius.*` — Border radius constants
- `NP.Shadow.*` — Shadow definitions
- `NP.FontName.*` — Font family names

### Component Naming

Reusable view components follow these patterns:

| Type | Naming Pattern | Example |
|---|---|---|
| View Modifiers | `NP[Function]` | `NPCard`, `NPPrimaryButton` |
| Reusable Components | `[Element][Type]` | `TagPill`, `DeckCardView`, `RatingButton` |
| Shapes | `[Adjective][Noun]` | `OrangeBlob`, `MeshBackground` |
| View Extensions | `.np[Function]()` | `.npCard()`, `.npPrimaryButton()` |

### Hex Color Naming

When using custom hex colors in code (rare), use descriptive names:

```swift
// Avoid:
let color = Color(hex: "#FF375F")

// Prefer:
let ratingAgainColor = Color(hex: "#FF375F")  // Semantic name
```

Better: use predefined color tokens from `NP.Colors` instead.

---

## Usage Guidelines

### Do's

✅ **Always use NP tokens:**
```swift
// Good
Text("Hello")
    .font(NP.Typography.body)
    .foregroundColor(NP.Colors.textPrimary)

// Don't
Text("Hello")
    .font(.system(size: 17))
    .foregroundColor(.black)
```

✅ **Use view modifiers for consistency:**
```swift
// Good
Button("Start") { }
    .npPrimaryButton()

// Don't (manual styling)
Button("Start") { }
    .frame(maxWidth: .infinity, maxHeight: 56)
    .background(Color(hex: "#5533FF"))
```

✅ **Apply modifiers in correct order:**
```swift
// Good (background → clip → shadow → padding)
VStack { }
    .background(NP.Colors.surface)
    .clipShape(RoundedRectangle(cornerRadius: NP.Radius.lg, style: .continuous))
    .shadow(color: NP.Shadow.cardColor, radius: NP.Shadow.cardRadius, x: 0, y: 4)
    .padding(NP.Spacing.xxl)

// Don't (shadows before clip shape)
VStack { }
    .shadow(...)
    .clipShape(...)
    .background(NP.Colors.surface)
```

✅ **Use view extensions for cleaner code:**
```swift
// Good
Image("icon")
    .resizable()
    .scaledToFit()
    .frame(width: 24, height: 24)
    .foregroundColor(NP.Colors.primary)

// Works, but use solar icon rendering mode:
Image("solar-icon")
    .renderingMode(.template)
    .foregroundColor(NP.Colors.primary)
```

✅ **Use MeshBackground for full-screen layouts:**
```swift
// Good
ZStack {
    MeshBackground()
    ScrollView { /* content */ }
}
.ignoresSafeArea()
```

### Don'ts

❌ **Don't hardcode colors:**
```swift
// Bad
.foregroundColor(Color(hex: "#5533FF"))
.background(Color.white)

// Good
.foregroundColor(NP.Colors.primary)
.background(NP.Colors.surface)
```

❌ **Don't hardcode font sizes:**
```swift
// Bad
.font(.system(size: 17, weight: .semibold))

// Good
.font(NP.Typography.bodySemibold)
```

❌ **Don't hardcode spacing:**
```swift
// Bad
VStack(spacing: 16) { }
.padding(24)

// Good
VStack(spacing: NP.Spacing.lg) { }
.padding(NP.Spacing.xxl)
```

❌ **Don't hardcode corner radius:**
```swift
// Bad
.clipShape(RoundedRectangle(cornerRadius: 16))

// Good
.clipShape(RoundedRectangle(cornerRadius: NP.Radius.md, style: .continuous))
```

❌ **Don't mix SF Symbols with Solar icons:**
```swift
// Bad (inconsistent)
Image(systemName: "house.fill")        // SF Symbol
Image("solar-home-smile-bold")         // Solar icon
// Different styles!

// Good (consistent navigation)
Image("solar-home-smile-bold")
    .renderingMode(.template)
    .foregroundColor(isActive ? NP.Colors.primary : NP.Colors.textSecondary)
```

❌ **Don't use LiquidGlass or old glass effects:**
```swift
// Deprecated - don't use
.glassCard()
.liquidButton()
.liquidGlass()

// Use instead
.npCard()
.npPrimaryButton()
```

### Performance Notes

- **Variable fonts:** Manrope variable font is optimized for weight variations; use `.weight()` modifier
- **Icon rendering:** Always cache Solar icons with `.renderingMode(.template)` for color tinting
- **Shadows:** Keep shadow blur radius at standard 16pt for performance (defined in NP.Shadow)
- **Mesh background:** Use `MeshBackground()` sparingly on performance-critical screens

### Accessibility

- **Color contrast:** All text color tokens meet WCAG AA minimum contrast
  - Black text on white: 21:1
  - Primary purple on white: 6.7:1
  - Secondary gray on white: 4.8:1
- **Icon sizing:** Use `IconSize` enum values for SF Symbols to ensure touchable targets (minimum 44pt)
- **Font sizing:** Minimum body text is 13px (caption); use `bodySemibold` (17px) for standard content
- **Spacing:** All padding uses modular spacing scale for consistent rhythm

---

## Figma File Reference

Source design file: `d9jhBj7g7XnKK5L14M9RAL` (NoPressure Design System)

### Syncing Updates

When design tokens are updated in Figma:

1. Update hex values in `NP.Colors` enum
2. Update typography scale in `NP.Typography` enum
3. Update spacing/radius if design scale changes
4. Update component modifiers (`NPCard`, `NPPrimaryButton`, etc.)
5. Verify all views using affected tokens compile correctly
6. Consider backwards compatibility for released versions

---

## Quick Reference Cheat Sheet

```swift
// Colors
NP.Colors.primary              // #5533FF (Purple)
NP.Colors.accent               // #FF7A4D (Orange)
NP.Colors.background           // #EBE8FC (Lavender)
NP.Colors.surface              // #FFFFFF (White)
NP.Colors.textPrimary          // #333333 (Dark gray)
NP.Colors.textSecondary        // #999999 (Medium gray)
NP.Colors.textBlack            // #000000 (Black)

// Typography
NP.Typography.largeTitle       // 34px Bold
NP.Typography.title2           // 22px Bold
NP.Typography.bodySemibold    // 17px Semibold
NP.Typography.caption2Semibold // 11px Semibold

// Spacing
NP.Spacing.sm                  // 8pt
NP.Spacing.md                  // 12pt
NP.Spacing.lg                  // 16pt
NP.Spacing.xxl                 // 24pt
NP.Spacing.xxxl                // 32pt

// Radius
NP.Radius.sm                   // 12pt
NP.Radius.md                   // 16pt
NP.Radius.lg                   // 20pt
NP.Radius.pill                 // 100pt (fully rounded)

// Component Modifiers
.npCard()                      // White card with shadow
.npPrimaryButton()             // Purple CTA button
.npSecondaryButton()           // Light purple secondary button

// Reusable Components
TagPill(text: "LABEL", color: NP.Colors.accent)
DeckCardView(deck: myDeck)
FlipCard(front: "Q", back: "A", isFlipped: $flipped)
OrangeBlob(phase: 0.5)

// Icons
Image("solar-deck")            // Solar icon (custom)
    .renderingMode(.template)
    .foregroundColor(NP.Colors.primary)

Image(systemName: "xmark")     // SF Symbol
    .font(NP.Typography.IconSize.md)
```

---

**Document Version:** 1.0
**Last Updated:** February 2025
**Maintained by:** NoPressure Design System
**Implementation:** Swift 5.9+ / iOS 16+
